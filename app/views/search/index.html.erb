<h5 class="text-center"><%= pluralize(@posts.count, "件", "件") %>の検索結果</h5>

<div class="container">
<table class="table table-dark table-striped">
  <thead>
    <tr>
      <th><%= sort_link(@q, :title, "投稿のタイトル", default_order: :asc) %></th>
      <th><%= sort_link(@q, :body, "投稿の内容", default_order: :desc) %></th>
      <th><%= sort_link(@q, :user_name, "ユーザー名", default_order: :desc) %></th>
      <th><%= sort_link(@q, :created_at, "投稿日時", default_order: :desc) %></th>
      <th><%= sort_link(@q, :updated_at, "更新日時", default_order: :desc) %></th>

    </tr>

  </thead>
  <tbody>
    <% @posts.each do |post| %>
      <tr>
        <td><%= link_to post.title, post %></td>
        <td><%= post.body.truncate_words(25) %></td>
          <td><%= post.user&.name %></td>
          <td><%= post.created_at.in_time_zone("Asia/Tokyo").strftime("%Y年%m月%d日") %></td>
          <td><%= post.updated_at.in_time_zone("Asia/Tokyo").strftime("%Y年%m月%d日") %></td>
      </tr>
    <% end %>
  </tbody>

</table>

</div>
